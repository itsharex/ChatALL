{"version":3,"file":"js/832.747fbba6.js","mappings":"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","sources":["webpack://chatall/./node_modules/langchain/dist/prompts/few_shot.js"],"sourcesContent":["import { BaseStringPromptTemplate, } from \"./base.js\";\nimport { checkValidTemplate, renderTemplate, } from \"./template.js\";\nimport { PromptTemplate } from \"./prompt.js\";\n/**\n * Prompt template that contains few-shot examples.\n * @augments BasePromptTemplate\n * @augments FewShotPromptTemplateInput\n */\nexport class FewShotPromptTemplate extends BaseStringPromptTemplate {\n    constructor(input) {\n        super(input);\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: false\n        });\n        Object.defineProperty(this, \"examples\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"exampleSelector\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"examplePrompt\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"suffix\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"\"\n        });\n        Object.defineProperty(this, \"exampleSeparator\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"\\n\\n\"\n        });\n        Object.defineProperty(this, \"prefix\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"\"\n        });\n        Object.defineProperty(this, \"templateFormat\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"f-string\"\n        });\n        Object.defineProperty(this, \"validateTemplate\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        Object.assign(this, input);\n        if (this.examples !== undefined && this.exampleSelector !== undefined) {\n            throw new Error(\"Only one of 'examples' and 'example_selector' should be provided\");\n        }\n        if (this.examples === undefined && this.exampleSelector === undefined) {\n            throw new Error(\"One of 'examples' and 'example_selector' should be provided\");\n        }\n        if (this.validateTemplate) {\n            let totalInputVariables = this.inputVariables;\n            if (this.partialVariables) {\n                totalInputVariables = totalInputVariables.concat(Object.keys(this.partialVariables));\n            }\n            checkValidTemplate(this.prefix + this.suffix, this.templateFormat, totalInputVariables);\n        }\n    }\n    _getPromptType() {\n        return \"few_shot\";\n    }\n    async getExamples(inputVariables) {\n        if (this.examples !== undefined) {\n            return this.examples;\n        }\n        if (this.exampleSelector !== undefined) {\n            return this.exampleSelector.selectExamples(inputVariables);\n        }\n        throw new Error(\"One of 'examples' and 'example_selector' should be provided\");\n    }\n    async partial(values) {\n        const promptDict = { ...this };\n        promptDict.inputVariables = this.inputVariables.filter((iv) => !(iv in values));\n        promptDict.partialVariables = {\n            ...(this.partialVariables ?? {}),\n            ...values,\n        };\n        return new FewShotPromptTemplate(promptDict);\n    }\n    async format(values) {\n        const allValues = await this.mergePartialAndUserVariables(values);\n        const examples = await this.getExamples(allValues);\n        const exampleStrings = await Promise.all(examples.map((example) => this.examplePrompt.format(example)));\n        const template = [this.prefix, ...exampleStrings, this.suffix].join(this.exampleSeparator);\n        return renderTemplate(template, this.templateFormat, allValues);\n    }\n    serialize() {\n        if (this.exampleSelector || !this.examples) {\n            throw new Error(\"Serializing an example selector is not currently supported\");\n        }\n        if (this.outputParser !== undefined) {\n            throw new Error(\"Serializing an output parser is not currently supported\");\n        }\n        return {\n            _type: this._getPromptType(),\n            input_variables: this.inputVariables,\n            example_prompt: this.examplePrompt.serialize(),\n            example_separator: this.exampleSeparator,\n            suffix: this.suffix,\n            prefix: this.prefix,\n            template_format: this.templateFormat,\n            examples: this.examples,\n        };\n    }\n    static async deserialize(data) {\n        const { example_prompt } = data;\n        if (!example_prompt) {\n            throw new Error(\"Missing example prompt\");\n        }\n        const examplePrompt = await PromptTemplate.deserialize(example_prompt);\n        let examples;\n        if (Array.isArray(data.examples)) {\n            examples = data.examples;\n        }\n        else {\n            throw new Error(\"Invalid examples format. Only list or string are supported.\");\n        }\n        return new FewShotPromptTemplate({\n            inputVariables: data.input_variables,\n            examplePrompt,\n            examples,\n            exampleSeparator: data.example_separator,\n            prefix: data.prefix,\n            suffix: data.suffix,\n            templateFormat: data.template_format,\n        });\n    }\n}\n"],"names":["FewShotPromptTemplate","constructor","input","super","Object","defineProperty","this","enumerable","configurable","writable","value","assign","undefined","examples","exampleSelector","Error","validateTemplate","totalInputVariables","inputVariables","partialVariables","concat","keys","prefix","suffix","templateFormat","_getPromptType","getExamples","selectExamples","partial","values","promptDict","filter","iv","format","allValues","mergePartialAndUserVariables","exampleStrings","Promise","all","map","example","examplePrompt","template","join","exampleSeparator","serialize","outputParser","_type","input_variables","example_prompt","example_separator","template_format","deserialize","data","PromptTemplate","Array","isArray"],"sourceRoot":""}